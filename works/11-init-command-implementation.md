# initコマンドの実装

## 実装内容

`ccmm init` コマンドを実装しました。このコマンドは ccmm をグローバルに初期化する役割を持ちます。

### 機能概要

1. **グローバルディレクトリの初期化**
   - `~/.ccmm/` ディレクトリの作成
   - `~/.ccmm/presets/` ディレクトリの作成（プリセットファイルの保存場所）
   - `~/.ccmm/projects/` ディレクトリの作成（プロジェクト固有ファイルの保存場所）

2. **設定ファイルの作成**
   - `~/.ccmm/config.json` に設定を保存
   - デフォルトのプリセットリポジトリを対話的に設定可能

3. **再初期化の確認**
   - 既に初期化済みの場合、再初期化するか確認プロンプトを表示

### コマンドオプション

- `-v, --verbose`: 詳細ログを出力
- `-y, --yes`: 確認プロンプトをスキップ
- `--dry-run`: 実際の変更を行わずに動作をシミュレート

### 実装ファイル

- `src/cli/init.ts`: initコマンドの実装
- `src/cli/init.test.ts`: テストコード
- `src/cli/index.ts`: CLIエントリーポイントへの統合

### 追加機能

1. **`isInitialized()`**: ccmmが初期化済みかを確認する関数
2. **`loadConfig()`**: 設定ファイルを読み込む関数
3. **syncコマンドの初期化チェック**: syncコマンド実行時に初期化済みかを確認

## 使用例

```bash
# 初回初期化
$ ccmm init
? デフォルトのプリセットリポジトリを設定しますか？ Yes
? プリセットリポジトリのURLを入力してください（カンマ区切りで複数可）: github.com/myorg/CLAUDE-md
✓ ccmmの初期化が完了しました

# 再初期化の確認
$ ccmm init
? ccmmは既に初期化されています。再初期化しますか？ No
✓ 初期化をキャンセルしました

# 確認なしで初期化
$ ccmm init -y
✓ ccmmの初期化が完了しました
```

## 今後の改善点

- 設定ファイルでのより詳細な設定項目の追加
- プリセットリポジトリの妥当性チェック（URLフォーマット検証など）
- 初期化時のデフォルトプリセットの自動ダウンロード機能